{% extends 'base.html' %}

{% block title %}{{ product.name }} - Infinite Labs{% endblock %}

{% block content %}
<div class="product-detail">
    <div class="product-detail-image">
        {% if product.image_url %}
            <img src="{{ product.image_url }}" alt="{{ product.name }}">
        {% else %}
            <div class="placeholder-image-large">{{ product.name[0] }}</div>
        {% endif %}
    </div>
    
    <div class="product-detail-info">
        <h2>{{ product.name }}</h2>
        <p class="product-category">Category: {{ product.category }}</p>
        <p class="product-price-large">${{ "%.2f"|format(product.price) }}</p>
        
        <div class="product-description">
            <h3>Description</h3>
            <p>{{ product.description }}</p>
        </div>
        
        <div class="product-stock">
            {% if product.stock > 0 %}
                <span class="in-stock">✓ In Stock ({{ product.stock }} available)</span>
            {% else %}
                <span class="out-of-stock">✗ Out of Stock</span>
            {% endif %}
        </div>
        
        {% if product.stock > 0 %}
        <form action="{{ url_for('add_to_cart', product_id=product.id) }}" method="POST" class="add-to-cart-form">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" value="1" min="1" max="{{ product.stock }}">
            <button type="submit" class="btn btn-primary btn-large">Add to Cart</button>
        </form>
        {% endif %}
        
        <a href="{{ url_for('products') }}" class="btn btn-secondary">← Back to Products</a>
    </div>
</div>
{% endblock %}
