{% extends 'base.html' %}

{% block title %}Order Successful - Infinite Labs{% endblock %}

{% block content %}
<div class="success-page">
    <div class="success-container">
        <div class="success-icon">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none">
                <circle cx="50" cy="50" r="48" stroke="#6a9bcc" stroke-width="3" fill="rgba(106, 155, 204, 0.1)"/>
                <path d="M30 50L42 62L70 34" stroke="#6a9bcc" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        
        <h1>Payment Successful!</h1>
        <p class="success-subtitle">Thank you for your order. Your payment has been processed successfully.</p>
        
        <div class="order-details-card">
            <div class="order-header">
                <h2>Order Details</h2>
                <span class="order-number">Order #{{ order.id }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Name:</span>
                <span class="detail-value">{{ order.name }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">{{ order.email }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Phone:</span>
                <span class="detail-value">{{ order.phone }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Shipping Address:</span>
                <span class="detail-value">
                    {{ order.address }}<br>
                    {{ order.city }}, {{ order.state }} {{ order.postcode }}
                </span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">{{ order.payment_method|capitalize }}</span>
            </div>
            
            <div class="detail-row total">
                <span class="detail-label">Total Amount:</span>
                <span class="detail-value">${{ "%.2f"|format(order.total) }} AUD</span>
            </div>
        </div>
        
        <div class="success-message">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="#6a9bcc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p>A confirmation email has been sent to <strong>{{ order.email }}</strong></p>
        </div>
        
        <div class="success-actions">
            <a href="{{ url_for('products') }}" class="btn btn-primary btn-large">
                <span class="btn-text">Continue Shopping</span>
                <span class="btn-icon">â†’</span>
            </a>
            <a href="{{ url_for('home') }}" class="btn btn-secondary btn-large">
                <span class="btn-text">Back to Home</span>
            </a>
        </div>
    </div>
</div>

<style>
.success-page {
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
}

.success-container {
    max-width: 700px;
    width: 100%;
    text-align: center;
}

.success-icon {
    margin: 0 auto 2rem auto;
    animation: successPulse 0.6s ease-out;
}

@keyframes successPulse {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.success-page h1 {
    font-family: 'Poppins', sans-serif;
    font-size: 2.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.success-subtitle {
    font-family: 'Lora', Georgia, serif;
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin-bottom: 3rem;
}

.order-details-card {
    background: var(--bg-card);
    border: 2px solid rgba(212, 175, 55, 0.15);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
    text-align: left;
}

.order-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(212, 175, 55, 0.1);
}

.order-header h2 {
    font-family: 'Poppins', sans-serif;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.order-number {
    font-family: 'Inter', sans-serif;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--luxury-gold);
    background: rgba(212, 175, 55, 0.1);
    padding: 0.5rem 1rem;
    border-radius: 8px;
}

.detail-row {
    display: grid;
    grid-template-columns: 180px 1fr;
    gap: 1rem;
    padding: 0.875rem 0;
    border-bottom: 1px solid rgba(212, 175, 55, 0.05);
}

.detail-row:last-child {
    border-bottom: none;
}

.detail-label {
    font-family: 'Inter', sans-serif;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--text-muted);
}

.detail-value {
    font-family: 'Lora', Georgia, serif;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.detail-row.total {
    margin-top: 1rem;
    padding-top: 1.5rem;
    border-top: 2px solid rgba(212, 175, 55, 0.2);
    border-bottom: none;
}

.detail-row.total .detail-label {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--text-primary);
}

.detail-row.total .detail-value {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--luxury-gold);
}

.success-message {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1.5rem;
    background: rgba(106, 155, 204, 0.08);
    border: 1px solid rgba(106, 155, 204, 0.2);
    border-radius: 12px;
    margin-bottom: 2.5rem;
}

.success-message svg {
    flex-shrink: 0;
}

.success-message p {
    font-family: 'Inter', sans-serif;
    font-size: 0.95rem;
    color: var(--text-secondary);
    margin: 0;
}

.success-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.btn-secondary {
    background: transparent;
    border: 2px solid rgba(212, 175, 55, 0.3);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: var(--luxury-gold);
}

@media (max-width: 768px) {
    .success-page h1 {
        font-size: 2rem;
    }
    
    .detail-row {
        grid-template-columns: 1fr;
        gap: 0.25rem;
    }
    
    .success-actions {
        flex-direction: column;
    }
    
    .order-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
}
</style>
{% endblock %}
